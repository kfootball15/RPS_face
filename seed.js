/*

This seed file is only a placeholder. It should be expanded and altered
to fit the development of your application.

It uses the same file the server uses to establish
the database connection:
--- server/db/index.js

The name of the database used is set in your environment files:
--- server/env/*

This seed file has a safety check to see if you already have users
in the database. If you are developing multiple applications with the
fsg scaffolding, keep in mind that fsg always uses the same database
name in the environment files.

*/

var mongoose = require('mongoose');
var Promise = require('bluebird');
var chalk = require('chalk');
var connectToDb = require('./server/db');
var User = mongoose.model('User');
var DogTag = mongoose.model('DogTag')

var wipeCollections = function () {
    var removeUsers = User.remove({});
    return Promise.all([
        removeUsers
    ]);
};

var seedUsers = function () {

    var users = [
        {
            email: 'me@me.com',
            userName: 'me',
            password: '123'
        },
        {
            email: 'me2@me.com',
            userName: 'me2',
            password: '123'
        }
    ];

    return User.create(users);

};

// admin_id: 5720ce3a354d7c510c981537
var seedDogTags = function () {

    var dogTags = [
        {
            user: '572652104b4766a93377a9c9',
            opponent: '572652104b4766a93377a9ca',
            image: 'data:image/png;base64,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â€¦6k3x69q+d2XNb3WLMTJj3gSd9ObyaJ273+IeeLJ08+rTl5XXS39/hSVomQmyQufbuiTAborTdOsE6wiiuUx00VbXAekCUbbMyDDEE4g+r+FsZs2OpeoUNTR+V7t7T9MByLWj5c1bcR0UrK8OK6T18/r+I2SyJu6XV2mU1TxZ52GOvwS2SFrN3RRBysTWEjaqJLWiePZxJOUsmmKFYY8X2uSdmYXZIlQuuPtxBrqJg+EzaWiU35nliR4Tpp2lLO3puyye8Hq4qqW7Ik3nMaODc0MFB9k56QNpnS5SWI9M0a/ktI7tN/NyFZDKhaaDEEBxNGVOr9hOe9il1GiGFb6T4XtG1Y8KBnr3zYXUrE4l2ZovnASmclB2At0YQmI4RiIC+KOLGxITDMncboWJxBW7IYWrhilszRdzGu+2KsHB0e1P92pxc66FuNljXaUhN21QZvGHiUJUAmkhzg9lDWq46oZ7nrcenvQ3lz0VtwOcIoeTNA9EoicI5er+vbZi/rNl9/U6dWqLpc2VmQwE90AlwGXTYuN9DbHU80ShAPvOoEgKLSqV1gdqymh/yYJtXKjd5tnSNUsHAciL15pNSgVSSeEDDmb7WV6nZlN+v7aEgQhlMkAAAy6SURBVOZWtRk0DhrQXNkbnQ1YOepAZ5xxv3hxtw3RiI2RuQkQiCGfRHj8pWzX4W6EhmuLEJltHUgJplB/Hv582uIIhAkvg7Yif1B+ZL2BL5+VXQyOtsO/6EyoUH25J9o7wGZBQ1YG+u50gBR9DpIZmZA4WR0aiMwiPw8lNcOAGjwMOX1pAYQyt2jEw91JPpoqs7wHI5tR56d74yPlYmw/X+wYAoUazjCkYEjP7BI623yewaUgMxN2nMe1WX9RjqxpD0iwVM06C+NZzd//qPbef1zf/fKXNbu6qBn7pcOUD2R5PTuo+Yef1u5ivy6e/KIml6c4FZP7muhjFv0wN2uNlar6hvJoumH2DOBYVhvYaYDOgd0cfg3UhdnIKbaQKnabH2pTnToRCdAWtZCB38E9mDseyor2q82aWuW6wvL8zavv6vzkRa0vNQ8Rjm7hmdfRujPlnWvrovuTVPP53yHdaCDMLsnAsWZGpbxyhZyowvdXQaZ/6q/mITLdaTQU6Uz1IAVRr6RAb2biyAQM/kZseWT7wfB/c1vXcsRYas9L9npk+EuBrIEx1jMDL8/nJip4D7ZScIlej1edu2y/B19ci1KVPKTHMJSE1YjExtFwyLRTBqQkEGliot1SAapORQP26UKD9oUV6SJ4UIwKIhvX3v4BMxL93+qa2fkuT769vSGBADvyfK7sB7dTtTg6qPsPHtbhfFHT23VNblY1272s0UaqdN8TvmLcJzirf/C7P9m0WM5UxlyoMHsSP1Nh57qFeSRKnXHZ9oxyBexf5ATy+vi0vnzyXX377FVdrm5rtTZspb+G7XteJjYiPazGQkeUNWskPYdxS9i+VYIqOKz4PgVSAhpxpaBBPmyizGUs+/DQqy1ArLA2jryN1w4MtoNIcI+XFgOq7FHmO/b6WmxQbiLG8Q4RDlcoo/r8SiBWA0s8Zvycy8Vu8WwcRDkeilUgFupEgo5FnHbQ9WE0pOhK3okkUbbb5dArSfS04P5OK2XdMLsG5XbaWosUAqXtCpkynq6aYyrPK2L2DrRCQSzshE7FZvZYoJIO0Hc6Rmo0efqQ2Bxo/Hd1P+2/pX8ZprSQtBk4PreuaHn3Ayzn+VHDYArmWNFEJ8NsqTdZkgy8ChR3V/Q2tq5hY2JgS32HZtV00ujZFck+FScfM3MFzU5gAY4ndbN3UI9/9ON6++JlrV58V9P10u+JG2d46ubwYT380e/UmxfPa/T6K+Yl/eh9o0yB9h+3poj4e3cLY54Dw8ycZYKt6NoBmPm9/siOmeGM6xlbQtZ0Ws14vFdiZzIf2FkyKJxABz2o0Vg7tr1LRH5Zp+9e1/nJy1qeH+OXdbuSXYjxcjsZhBnZxIdQxcWeMkMvoLmGu4Ec6ez50C5ENDthXqozLDKEoJZ0qJy1FrbieJH947AM1xSe0kdAb1b8kLNDYHbmVxnI6+co2Gv+IShH90kMKrPm7KNHTIg2kV8b1wu6Hu7vVhNjS5KgBxA63CVAv80ZH++ooByTuGeTmbuCbCg0B38bE4hjWVM7lZcVViZjbx6cLrhThoqdeLz3fM7zIDFldimxqJJ1MGsenmA774ffrcnevA7u36/Hjx7V/k7VVBtn67J2b97VJo7Mw4y3dwKRQMCZ+QphWPUsI5h7F6dd8QZ2NHNt22vynIcB4C27zZ++fFOff/mk3p1flai8wkbNvMrf83/JHhBXGzdDaW06r0VfWzsUXn4yeQ8GfQjMD99Irb5Ki99WI3e8gu5qAnoHRlMsnUlyMptHeodZ4a4kS5RcAJtuGrtw6HAIlBzE/LN2ajGb1XyixVk+WKo2+CcRpzmPer60nRB7WK3D6t9rMaNacjOdDC02KwemWIKkk0k+GG6p6nYyTNeguJNnhHssn2mIhVFIM468kEvUPbFK9GOjh45CO7s9oM56VgENlQQc0WbYUFRgnXRjyW/ue0wNo6J2tE3jgihRQS5UyDBpnN2bauvg3DRvf+sE1QSvrtj1TxiQC57IrAqWDEp805Gdh7O10nhd4LZtF0cd25VlV9cMc7U3ZFrv/82/Xcvbqjdf/Kpm11dskaPo0PdQVf/+9+vh3/hRffvLn9X09GVNsr9G75rfzh9vmE1wpeFOD2E7zWZ1MZCWX3eblupcjTMHoDgmuTddNt0KKnAXSfoqiD81NA8DazLbq8PD+zVZ7NdiXxqRBRi9DAvlcH11eVGnx6/q8vR1XZ68rtulzAq1ClXPWLBb2+GEkDFQ6KxXaO2N/LJCMxpEhkYqe3anbqahUicfYkCYmjYgjO1JJx/WSi/RdqhAINHf8W0jIXHezdDSMPrs8pyiiHMbipAJIS6Ge3Uz3RGQf4gXXDUXzXR1MeUEcQh0qc+nWatouwgRNOxHJ2MFPfB14Hd/Nr9nndVe4KX5pphUspRXJ4jP3kwqcyn+bTqpbtF+V1Kizy0WBi4ziccWJrkhJHu5dnub42Q+r8XBYd07PMLXbTEe12K8qsnmtOpWFu+mzgv/UiLieP7+T5NAGvMlWOf28mDaJj22Hq4xM+x1RZX/hTvNnCBD7rOzi/r66fP6+tuXdblaYQuvBEJHCAnL3jlismAHfxMrDLK3Wss1UAGMCiASX25h/x6kb2p34kDcbDEgPrxQHFywWzCYTtWsn2SNSCCJ3FMGzWG1cNlgzygo+ju2+KxpvsLTqecFOeVntI9UP48eIit4KXnsz6SQ1RC2xW5eJcqQP0JOtpox1Le4TSZpptjgWGeef6AUaHXg3GGCJLZ0y8z35PPfWJ0buE6X2/h4sGf9PG2ibCU31YU3HlJ5aXVxhE66NILz9Pz1MxRIeAxSw+q7aLCYjtSixXSEwd1V7SylBNYTvbmxV4+U8eyCNlUGSMglu6nDM7GfMgzuYW6ovzzzwQrBM4+t/sSdoQ/mNikwTM+swfDglrHXbUAr2dGkgE66Y7LYMcaMIwtd2USZbk/f/3pnt/Y//EE9/OQH9Zv//b9qdHZa03yX25GG7Ye19/EPa7x/WK9//fNaLE9rR7M2wYt51VAS0BTJfTUsvZ4nxUyzZ0o8y5ALbkKMIAi2UDf701mrCquuGWF6Py4WiAt6R1i/S0w4BT+f7x/ByJrvHWKXLqbQZM8U06vrNa69F+9e18nrZ7W6eDfYhNxcXzemlveq+6ZZpiEkO8X2XE7MPyuVQI3SgRkGdgdMhd80d+NI3H/sypnNiZoqIaHXNOxutOhuaT0Qbshp/vCkM6GCn+2Xi9PB2aW2/AXnb8ILdUo2sEITtu7MG1r1gcZAwi5oNPNwQvC5CpkGrZwFhtzzjTQ4Ylp51YDJSlv82HWrZ4PNdISCG1mBE4YILRIITrAzkUpdcUPsK/17Op7X7u7MAkVcCLzHXR2Ji5QBvEdTIidjdTN7i/3aF9R1s8L54HBvp+aag2yuakfD+lBqNKQnFv5LDdHRA2y9nhrL4w9nxoDOgUMdHJAXErLlnS7EVbQm9Lf17uS0vvjyST1/c1GXDMJzoWPSh7gmUBCuu5HoAkNpcM2yldiQpJpyW++HoS/QCnaCWKoEoC57I3gYFq0IxowJwBzILJZh2AxLxdP8DlYKObfAK3JHZgqZKiHKU1pTV/MtpPMP0gHwIJGzIfhHDAcN0sVOUuusgMLvMgUw9mxWe7aoDoO4UKIj5BPcqKDtvTZ39ngMOouw4/Tc9Nn1lKi2R7CBuLTYTsiddUaiYFe1Zl48LxUY/V6llNUBFPtGViJqkQUN+tnCUkOh6l6oVQvzHkBKACUYYaWOaQpMIcdT7TTxjogbD+TCrlKAFluE+mVXTB5vRJNGw6uM7UrL+k8gvSRxEkD0IFiGtzX5lnHDnhSKkDgTM0h0Rd4KbphlYXwxjKcLMZzEu4QJMxoWPXkvtKA3QxhdYEtMtnv0qD79O3+3vv7sZ7V8/aJ2lysXZpNR7Rw8qns/+FG9ePWiRq+f1+L60oNyERjwixKlvu3rLQB1P+cVmwA/JCRXky2Wc8Ix9jP4K3Ckcw7V9WIT4ooHaCVK/XaSxqqCYDRBB7LYO6xZbN9lL65FVFNBWvN9iktpJ5bLszo7fl0nr57WUtRebbRjkZzvlQNh0IHEE48X8tn5HC7otlNJP3dca6H6ZoaQQiDKO89COG+uyE1l1sz0elgRQYOJWFomjukcmm/K+Vdh6w7EJBxTRNqywwVrFkKpU7ALe3YmNUfRcYOYcSMA0eQKu1V47oQVOonez5gEw/9z4jMt2+4L+gVCVFRYC62YkvxF/xZzTet9VYyOID9Ie+SuQ/d8h6H5dCwLlKnNLHcVf/y7mJc0iQhIXjDXCP2HBvSHB0clqyOdKRkgHy12a296XZO64rm28yRw2/99L/8HkhW2N/Pj5O4AAAAASUVORK5CYII=',
            prompt: 'buck teeth'
        },
    ];

    return DogTag.create(dogTags);

};


connectToDb
    .then(function () {
        return wipeCollections();
    })
    .then(function () {
        return seedUsers();
    })
    .then(function () {
        return seedDogTags();
    })
    .then(function () {
        console.log(chalk.green('Seed successful!'));
        process.kill(0);
    })
    .catch(function (err) {
        console.error(err);
        process.kill(1);
    });
